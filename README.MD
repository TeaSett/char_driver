# Символьный драйвер Linux
## Описание
Символьный драйвер обеспечивает передачу информации между двумя процессами по принципу кольцевого буфера, размер которого задаётся через параметр `size` (1024 по-умолчанию). Чтение и запись по-умолчанию блокирующие; для переключения между режимами используются вызовы ioctl, объявленные в файле `my_char_driver_ioctl_calls.h`. Также есть вызов ioctl для получения информации о размере буфера.
Информация о действиях с драйвером:
- *название операции*;
- *идентификатор пользователя*;
- *идентификатор процесса*;
- *время операции*;
Доступна информация с помощью команды `dmesg | grep my_char_driver` (может потребоваться `sudo`).
## Структура
* **install.sh** — скрипт сборки и установки драйвера;
* **remove.sh** — скрипт удаления драйвера;
* **my_device.h** — определение структуры, хранящей основные данные о драйвере;
* **my_device_instance.c** — содержит информацию о модуле, объявление глобального экземпляра структуры my_device_t, объявление функций для работы с файлом драйвера;
* **buffer.h**, **buffer.c** — определение структуры буфера, функции его инициализации и её реализация;
* **init.c** — функция инициализации модуля;
* **exit.c** — функция выгрузки модуля;
* **file_operations.c** — реализация функций для работы с файлом драйвера (`open`, `release`, `read`, `write`);
* **my_char_driver_ioctl_calls.h** — объявление вызовов ioctl;
* **ioctl_hanler.c** — функция обработки вызовов ioctl.